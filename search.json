[{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md","text":"frontmatter R package extracts parses YAML/TOML metadata beginning text documents. uses C++11 core (via cpp11) fast single-pass parsing, R wrapper layer user-friendly API.","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"development-commands","dir":"","previous_headings":"","what":"Development Commands","title":"CLAUDE.md","text":"r-btw MCP server available, prefer using tools: - btw_tool_pkg_test - Run tests (supports filter parameter specific test files) - btw_tool_pkg_document - Rebuild documentation changing roxygen comments - btw_tool_pkg_check - Run R CMD check Otherwise, use devtools R:","code":"# Run all tests devtools::test(reporter = \"check\") # Run specific test file (matches test-{name}.R) devtools::test(filter = \"pep723\", reporter = \"check\")  devtools::check()     # Run R CMD check devtools::document()  # Rebuild documentation devtools::load_all()  # Reload package after C++ changes"},{"path":[]},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"two-layer-design","dir":"","previous_headings":"Architecture","what":"Two-Layer Design","title":"CLAUDE.md","text":"C++ Core (src/extract_front_matter.cpp): Single-pass character scanning detects extracts front matter. Returns list found, fence_type, content, body. Handles format detection validation. R Wrapper (R/parse_front_matter.R): User-facing API calls C++ core, passes extracted content appropriate parser (YAML TOML).","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"format-detection-priority","dir":"","previous_headings":"Architecture","what":"Format Detection Priority","title":"CLAUDE.md","text":"C++ code checks formats order (specific first): 1. PEP 723 (# /// script … # ///) - Python inline script metadata 2. Comment-wrapped YAML/TOML (# --- #' ---) 3. Standard YAML (---) TOML (+++)","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"key-files","dir":"","previous_headings":"Architecture","what":"Key Files","title":"CLAUDE.md","text":"R/parse_front_matter.R: Main API - parse_front_matter() read_front_matter() R/default_parsers.R: Default YAML (yaml12) TOML (tomledit) parsers src/extract_front_matter.cpp: C++ parsing logic extract_front_matter_cpp() entry point .claude/SPECIFICATION.md: Complete parsing specification edge cases","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"parser-flexibility","dir":"","previous_headings":"Architecture","what":"Parser Flexibility","title":"CLAUDE.md","text":"Default parsers: yaml12::parse_yaml() (YAML 1.2) tomledit::parse_toml() Users can override via parse_yaml parse_toml arguments YAML 1.1 available via option frontmatter.parse_yaml.spec = \"1.1\" envvar FRONTMATTER_PARSE_YAML_SPEC=1.1","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"CLAUDE.md","text":"Tests organized feature tests/testthat/: - test-fence-validation.R: Edge cases fence detection (exact 3 chars, indentation, etc.) - test-comment-formats.R: Comment-wrapped formats (# #' prefixes) - test-pep723.R: Python inline script metadata - test-whitespace.R: CRLF/LF handling, trailing whitespace - test-encoding.R: UTF-8, BOM handling - test-custom-parsers.R: Custom parser functions - fixtures/: Test fixture files","code":""},{"path":"https://posit-dev.github.io/frontmatter/CLAUDE.html","id":"specification-reference","dir":"","previous_headings":"","what":"Specification Reference","title":"CLAUDE.md","text":"complete parsing specification .claude/SPECIFICATION.md. Key rules: - Opening fence must document position 0 - Closing fence must exactly 3 characters (4+) - Invalid front matter returns NULL data original content body (errors) - comment-wrapped formats, closing fence must use prefix opening","code":""},{"path":"https://posit-dev.github.io/frontmatter/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 frontmatter authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://posit-dev.github.io/frontmatter/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Garrick Aden-Buie. Author, maintainer. Posit Software, PBC. Copyright holder, funder.","code":""},{"path":"https://posit-dev.github.io/frontmatter/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Aden-Buie G (2026). frontmatter: Parse Front Matter Documents. R package version 0.1.0, https://github.com/posit-dev/frontmatter.","code":"@Manual{,   title = {frontmatter: Parse Front Matter from Documents},   author = {Garrick Aden-Buie},   year = {2026},   note = {R package version 0.1.0},   url = {https://github.com/posit-dev/frontmatter}, }"},{"path":[]},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Parse Front Matter from Documents","text":"frontmatter extracts parses structured metadata (YAML TOML) beginning text documents. Front matter common pattern Quarto documents, R Markdown documents, static site generators, documentation systems, content management tools even Python R scripts metadata placed top document, separated main content delimiter fences.","code":""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Parse Front Matter from Documents","text":"Fast C++ parsing optimal performance Standard YAML (--- delimiters) Standard TOML (+++ delimiters) Comment-wrapped formats R Python files (# #' prefixes) PEP 723 Python inline script metadata Uses yaml12 YAML 1.2 support Graceful handling invalid front matter","code":""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Parse Front Matter from Documents","text":"can install frontmatter CRAN : install latest development version, can install posit-dev.r-universe.dev: can install development version GitHub:","code":"install.packages(\"frontmatter\") # install.packages(\"pak\")  pak::repo_add(\"https://posit-dev.r-universe.dev\") pak::pak(\"frontmatter\") # install.packages(\"pak\") pak::pak(\"posit-dev/btw\")"},{"path":[]},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"basic-usage","dir":"","previous_headings":"Usage","what":"Basic Usage","title":"Parse Front Matter from Documents","text":"","code":"--- title: My Document date: 2024-01-01 tags:   - tutorial   - R ---  Document content starts here. str(parse_front_matter(text_yaml)) #> List of 2 #>  $ data:List of 3 #>   ..$ title: chr \"My Document\" #>   ..$ date : chr \"2024-01-01\" #>   ..$ tags : chr [1:2] \"tutorial\" \"R\" #>  $ body: chr \"Document content starts here.\""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"parse-from-file","dir":"","previous_headings":"Usage","what":"Parse from File","title":"Parse Front Matter from Documents","text":"","code":"result <- read_front_matter(\"document.md\")"},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"toml-front-matter","dir":"","previous_headings":"Usage","what":"TOML Front Matter","title":"Parse Front Matter from Documents","text":"","code":"+++ title = 'My Document' count = 42 +++  Content here str(parse_front_matter(text_toml)) #> List of 2 #>  $ data:List of 2 #>   ..$ title: chr \"My Document\" #>   ..$ count: int 42 #>  $ body: chr \"Content here\""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"comment-wrapped-formats","dir":"","previous_headings":"Usage","what":"Comment-Wrapped Formats","title":"Parse Front Matter from Documents","text":"R Python files, front matter can wrapped comments: Roxygen-style comments also supported:","code":"# --- # title: My Analysis # author: Data Scientist # ---  library(dplyr) # Analysis code... str(parse_front_matter(text_r)) #> List of 2 #>  $ data:List of 2 #>   ..$ title : chr \"My Analysis\" #>   ..$ author: chr \"Data Scientist\" #>  $ body: chr \"library(dplyr)\\n# Analysis code...\" #' --- #' title: My Function #' --- #' #' Documentation here str(parse_front_matter(text_roxy)) #> List of 2 #>  $ data:List of 1 #>   ..$ title: chr \"My Function\" #>  $ body: chr \"Documentation here\""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"pep-723-python-metadata","dir":"","previous_headings":"Usage","what":"PEP 723 Python Metadata","title":"Parse Front Matter from Documents","text":"","code":"# /// script # requires-python = \">=3.11\" # dependencies = [ #     \"requests<3\", # ] # ///  import requests str(parse_front_matter(text_py)) #> List of 2 #>  $ data:List of 2 #>   ..$ requires-python: chr \">=3.11\" #>   ..$ dependencies   :List of 1 #>   .. ..$ : chr \"requests<3\" #>  $ body: chr \"import requests\""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"custom-parsers","dir":"","previous_headings":"Usage","what":"Custom Parsers","title":"Parse Front Matter from Documents","text":"","code":"# Get raw YAML without parsing str(parse_front_matter(text_yaml, parse_yaml = identity)) #> List of 2 #>  $ data: chr \"title: My Document\\ndate: 2024-01-01\\ntags:\\n  - tutorial\\n  - R\\n\" #>  $ body: chr \"Document content starts here.\"  # Use a custom parser that adds metadata custom_parser <- function(x) {   data <- yaml12::parse_yaml(x)   data$.parsed_with <- \"{frontmatter}\"   data }  str(parse_front_matter(text_yaml, parse_yaml = custom_parser)) #> List of 2 #>  $ data:List of 4 #>   ..$ title       : chr \"My Document\" #>   ..$ date        : chr \"2024-01-01\" #>   ..$ tags        : chr [1:2] \"tutorial\" \"R\" #>   ..$ .parsed_with: chr \"{frontmatter}\" #>  $ body: chr \"Document content starts here.\""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"default-parsers","dir":"","previous_headings":"","what":"Default Parsers","title":"Parse Front Matter from Documents","text":"YAML: Uses yaml12::parse_yaml() YAML 1.2 support TOML: Uses tomledit::parse_toml()","code":""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"yaml-11-support","dir":"","previous_headings":"Default Parsers","what":"YAML 1.1 Support","title":"Parse Front Matter from Documents","text":"use YAML 1.1 parsing (via yaml package) instead default YAML 1.2, set either: R option: options(frontmatter.parse_yaml.spec = \"1.1\") environment variable: FRONTMATTER_PARSE_YAML_SPEC=1.1 option takes precedence environment variable.","code":"--- # In YAML 1.1, 'yes' is parsed as TRUE enabled: yes ---  Content # Default (YAML 1.2): 'yes' is a string parse_front_matter(text_yaml11)$data #> $enabled #> [1] \"yes\"  # With YAML 1.1: 'yes' is boolean TRUE rlang::with_options(   frontmatter.parse_yaml.spec = \"1.1\",   parse_front_matter(text_yaml11)$data ) #> $enabled #> [1] TRUE"},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"error-handling","dir":"","previous_headings":"","what":"Error Handling","title":"Parse Front Matter from Documents","text":"Incomplete front matter returns NULL data original content unchanged: Invalid front matter handled parsing function. example, invalid YAML likely result error YAML parser. Use custom parser need handle cases gracefully.","code":"text <- \"---\\nNot valid front matter\" str(parse_front_matter(text)) #> List of 2 #>  $ data: NULL #>  $ body: chr \"---\\nNot valid front matter\""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"performance","dir":"","previous_headings":"","what":"Performance","title":"Parse Front Matter from Documents","text":"package uses C++11 optimal performance: Single-pass parsing Minimal string copying Efficient fence detection validation Designed high throughput processing many documents.","code":""},{"path":"https://posit-dev.github.io/frontmatter/index.html","id":"acknowledgments","dir":"","previous_headings":"","what":"Acknowledgments","title":"Parse Front Matter from Documents","text":"package inspired simplematter JavaScript package. Thanks also Yihui Xie’s implementation xfun::yaml_body().","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/frontmatter-package.html","id":null,"dir":"Reference","previous_headings":"","what":"frontmatter: Parse Front Matter from Documents — frontmatter-package","title":"frontmatter: Parse Front Matter from Documents — frontmatter-package","text":"Extracts parses YAML TOML front matter text documents. Front matter structured metadata beginning document, delimited fences.","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/frontmatter-package.html","id":"supported-formats","dir":"Reference","previous_headings":"","what":"Supported Formats","title":"frontmatter: Parse Front Matter from Documents — frontmatter-package","text":"Standard YAML (--- delimiters) Standard TOML (+++ delimiters) Comment-wrapped formats R/Python files (# #' prefixes) PEP 723 Python inline script metadata","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/frontmatter-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"frontmatter: Parse Front Matter from Documents — frontmatter-package","text":"parse_front_matter(): Parse front matter string read_front_matter(): Parse front matter file","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/frontmatter-package.html","id":"performance","dir":"Reference","previous_headings":"","what":"Performance","title":"frontmatter: Parse Front Matter from Documents — frontmatter-package","text":"Uses C++11 fast, single-pass parsing minimal memory overhead. Designed high throughput processing many documents.","code":""},{"path":[]},{"path":"https://posit-dev.github.io/frontmatter/reference/frontmatter-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"frontmatter: Parse Front Matter from Documents — frontmatter-package","text":"Maintainer: Garrick Aden-Buie garrick@posit.co (ORCID) contributors: Posit Software, PBC (ROR) [copyright holder, funder]","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse YAML or TOML Front Matter — parse_front_matter","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"Extract parse YAML TOML front matter file text string. Front matter structured metadata beginning document, delimited fences (--- YAML, +++ TOML). parse_front_matter() processes character string, read_front_matter() reads file. functions return list parsed front matter document body.","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"","code":"parse_front_matter(text, parse_yaml = NULL, parse_toml = NULL)  read_front_matter(path, parse_yaml = NULL, parse_toml = NULL)"},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"text character string vector containing document text. vector multiple elements, joined newlines (readLines()). parse_yaml, parse_toml function takes string returns parsed R object, NULL use default parser. Use identity return raw string without parsing. path character string specifying path file. file assumed UTF-8 encoded. UTF-8 BOM (byte order mark) start file automatically stripped present.","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"named list two elements: data: parsed front matter R object, NULL valid front matter found. body: document content front matter, leading empty lines removed. front matter found, original text.","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"parse_front_matter(): Parse front matter text read_front_matter(): Parse front matter file.","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"custom-parsers","dir":"Reference","previous_headings":"","what":"Custom Parsers","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"default, package uses yaml12::parse_yaml() YAML tomledit::parse_toml() TOML. can provide custom parser functions via parse_yaml parse_toml override defaults. Use identity return raw YAML TOML string without parsing.","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"yaml-specification-version","dir":"Reference","previous_headings":"","what":"YAML Specification Version","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"default YAML parser uses YAML 1.2 via yaml12::parse_yaml(). use YAML 1.1 parsing instead (via yaml::yaml.load()), set either: R option frontmatter.parse_yaml.spec \"1.1\" environment variable FRONTMATTER_PARSE_YAML_SPEC \"1.1\" option takes precedence environment variable. Valid values \"1.1\" \"1.2\" (default). YAML 1.1 differs YAML 1.2 several ways, notably handles boolean values (e.g., yes/booleans 1.1 strings 1.2).","code":""},{"path":"https://posit-dev.github.io/frontmatter/reference/parse_front_matter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse YAML or TOML Front Matter — parse_front_matter","text":"","code":"# Parse YAML front matter text <- \"--- title: My Document date: 2024-01-01 --- Document content here\"  result <- parse_front_matter(text) result$data$title  # \"My Document\" #> [1] \"My Document\" result$body        # \"Document content here\" #> [1] \"Document content here\"  # Parse TOML front matter text <- \"+++ title = 'My Document' date = 2024-01-01 +++ Document content\"  result <- parse_front_matter(text)  # Get raw YAML without parsing result <- parse_front_matter(text, parse_yaml = identity)  # Use a custom parser that adds metadata result <- parse_front_matter(   text,   parse_yaml = function(x) {     data <- yaml12::parse_yaml(x)     data$parsed_at <- Sys.time()     data   } )  # Or read from a file tmpfile <- tempfile(fileext = \".md\") writeLines(text, tmpfile)  read_front_matter(tmpfile) #> $data #> $data$title #> [1] \"My Document\" #>  #> $data$date #> [1] \"2024-01-01\" #>  #>  #> $body #> [1] \"Document content\\n\" #>"},{"path":"https://posit-dev.github.io/frontmatter/news/index.html","id":"frontmatter-010","dir":"Changelog","previous_headings":"","what":"frontmatter 0.1.0","title":"frontmatter 0.1.0","text":"Initial CRAN release. Extract parse YAML TOML front matter text documents read_front_matter() parse_front_matter(). Support multiple front matter formats: Standard YAML (--- delimiters) TOML (+++ delimiters) Comment-wrapped formats R Python files (# #' prefixes) PEP 723 Python inline script metadata Fast C++ parsing graceful handling incomplete front matter. Flexible parser integration: default uses yaml12::parse_yaml() tomledit::parse_toml() can provide custom parsers.","code":""}]
